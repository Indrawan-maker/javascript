<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>error handling</title>
</head>
<body>
    <script>

        class MathUtil {
            static sum(...numbers){

                if(numbers.length === 0){
                    throw new Error("Total parameter harus lebih dari 0")
                }
                let total = 0
                for (const number of numbers){
                    total += number
                }
                return total
            }

        }
// jika error yg berhenti hanya yang terjadi di block try
// dan otomatis lanjut ke carch lalu kita bisa melanjutkan 
// menjalankan program kita seperti biasa
// jikalau tidak error maka kode di try tetap dijalankan
// dan catch tidak eksekusi

        try {
            console.log(MathUtil.sum())
            console.log("Eko")
        } catch(error){
            console.info(`Terjadi error :${error.message}`)
                } finally {
                    // maupun error atau tidak akan tetap dieksekusi
                    console.info("database")
                }
                // finally ini penting dan berguna untuk memasukkan kode kita
                //misalnya ketika ingin connect ke database dan jika terjadi error 
                // otomatis tertutup dan jika tidak maka akan di eksekusi

                console.info("Indra")

                // metode try finally
                class Counter{

                    #counter = 1

                    next(){
                        try{
                            return this.#counter 
                        }finally{
                            this.#counter++
                        }
                    }

                }


                const counter = new Counter()
                console.info(counter.next())
                console.info(counter.next())
                console.info(counter.next())
                console.info(counter.next())
                console.info(counter.next())





    </script>
</body>
</html>